[Service]
# Provide default runtime environment for E-Paper daemon when installed from this repository.
# This file is intended to be packaged or copied to /etc/systemd/system/azazel-epd.service.d/override.conf
# to set a default rotation and helpful debug flags. Users can override via systemctl set-environment
# or /etc/systemd/system/azazel-epd.service.d/override.conf on the host.
Environment=EPD_ROTATION=180
Environment=EPD_OPTS=--debug
Environment=PYTHONFAULTHANDLER=1

# Small start delay to reduce race with system SPI/GPIO initialization
# Increase to 5s to give other system services/time to release GPIO resources
ExecStartPre=/bin/sleep 5

# Give systemd some time before restarting to avoid tight restart loops
RestartSec=5
